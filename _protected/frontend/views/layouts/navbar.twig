{{ nav_bar_begin({
    'brandLabel': app.name,
    'brandUrl': app.homeUrl,
    'brandOptions': {'style': 'display: block;'},
    'options': { 'class': 'navbar-default navbar-fixed-top' },
    'renderInnerContainer': true,
}) }}

<!-- everyone can see Home page -->
{% set menuItems = [
    {'label': t('Home'), 'url': [app.homeUrl]},
    {'label': 'About', 'url': ['/about']},
    {'label': t('Contact'), 'url': ['/contact'] }
] %}

<!-- we do not need to display Article/index, About and Contact pages to editor+ roles -->
{% if not app.user.can('editor') %}
    {% set menuItems = menuItems|merge(
        ArticleCategoryListItems(null,'menu')
    ) %}

{% elseif app.user.can('editor') %}
    {% set menuItems = menuItems|merge([
    {
        'label': t('Articles'),
        'url': ['/articles'],
        'items': [
            { 'label': t('All'), 'url': ['/articles'] },
            { 'label': t('Admin'), 'url': ['/article/admin'] },
            { 'label': t('Create'), 'url': ['/article/create'] },
            { 'label': t('Sport'), 'url': ['/articles/'~t('Sport')] },
            { 'label': t('Economy'), 'url': ['/articles/'~t('Economy')] },
            { 'label': t('Society'), 'url': ['/articles/'~t('Society')] }
        ]
    }]) %}
{% endif %}
{#display Signup and Login pages to guests of the site#}

{% if app.user.isGuest %}
    {% set menuItems = menuItems|merge([
        { 'label': t('Signup'), 'url': ['/signup'] },
        { 'label': t('Login'), 'url': ['/login'] }
    ]) %}
{% else %}
    {#display Logout to all logged in users#}
    {% set menuItems = menuItems|merge([
    {
        'label': t('Logout') ~ ' (' ~ app.user.identity.username ~ ')',
        'url': ['/site/logout'],
        'linkOptions': {'data-method': 'post'},
    }
    ]) %}
{% endif %}

{{ nav_widget({
    'options': { 'class': 'navbar-nav navbar-right' },
    'items': menuItems
}) | raw }}

{{ nav_bar_end() }}


